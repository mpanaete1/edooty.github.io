<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>

<link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; --title-bar-height:20px; }
.mac-os-11 { --title-bar-height:28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex:2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.42857rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left: 28px solid transparent; border-right: 28px solid transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right: 8px solid transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
span.cm-underlined { text-decoration: underline; }
span.cm-strikethrough { text-decoration: line-through; }
.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }
.cm-tw-deleted { text-decoration: line-through; }
.cm-tw-header5 { font-weight: 700; }
.cm-tw-listitem:first-child { padding-left: 10px; }
.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }
.cm-tw-underline { text-decoration: underline; }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, 'Segoe UI Emoji', sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

/*.html-for-mac {
    --item-hover-bg-color: #E6F0FE;
}*/

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
    opacity: 0.4;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

.menu-item-container a.menu-style-btn {
    background-color: #f5f8fa;
    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); 
}



</style><title>tryhackme_christmas</title>
</head>
<body class='typora-export os-windows'><div class='typora-export-content'>
<div id='write'  class=''><h1>TryHackMe Christmas</h1><p><a href='index.html'><span>Home</span></a></p><div class='md-toc' mdtype='toc'><p class="md-toc-content" role="list"><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n4"><a class="md-toc-inner" href="#day-1">Day 1</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n5"><a class="md-toc-inner" href="#insecure-direct-object-reference-idor-vulnerability">Insecure Direct Object Reference (IDOR) Vulnerability</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n9"><a class="md-toc-inner" href="#real-world-idorfinding-idor-vulnerabilities">Real World IDOR/Finding IDOR Vulnerabilities</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n25"><a class="md-toc-inner" href="#day-2">Day 2</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n27"><a class="md-toc-inner" href="#web-servers">Web Servers</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n47"><a class="md-toc-inner" href="#cookies">Cookies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n83"><a class="md-toc-inner" href="#day-3">Day 3</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n85"><a class="md-toc-inner" href="#content-discovery">Content Discovery</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n104"><a class="md-toc-inner" href="#default-credentials">Default Credentials</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n109"><a class="md-toc-inner" href="#day-4">Day 4</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n111"><a class="md-toc-inner" href="#authentication">Authentication</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n121"><a class="md-toc-inner" href="#fuzzing">Fuzzing</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n158"><a class="md-toc-inner" href="#day-5">Day 5</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n160"><a class="md-toc-inner" href="#cross-site-scripting-xss">Cross-Site Scripting (XSS)</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n212"><a class="md-toc-inner" href="#day-6">Day 6</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n215"><a class="md-toc-inner" href="#local-file-inclusion-lfi">Local File Inclusion (LFI)</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n227"><a class="md-toc-inner" href="#identifying-and-testing-for-lfi">Identifying and Testing for LFI</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n264"><a class="md-toc-inner" href="#lfi-to-rce-via-log-files-log-poisoning-attack">LFI to RCE via Log Files (log poisoning attack)</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n272"><a class="md-toc-inner" href="#lfi-to-rce-via-php-sessions">LFI to RCE via PHP Sessions</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n294"><a class="md-toc-inner" href="#day-7">Day 7</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n296"><a class="md-toc-inner" href="#nosql">NoSQL</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n324"><a class="md-toc-inner" href="#interacting-with-mongodb-server">Interacting with MongoDB server</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n362"><a class="md-toc-inner" href="#nosql-injection">NoSQL Injection</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n427"><a class="md-toc-inner" href="#day-8">Day 8</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n429"><a class="md-toc-inner" href="#powershell-transcription-logging">Powershell Transcription Logging</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n434"><a class="md-toc-inner" href="#living-off-the-land--lolbin">Living Off the Land  (LOLbin)</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n436"><a class="md-toc-inner" href="#shellbags">Shellbags</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n451"><a class="md-toc-inner" href="#day-9">Day 9</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n453"><a class="md-toc-inner" href="#wireshark">Wireshark</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n482"><a class="md-toc-inner" href="#analyze-http-traffic">Analyze HTTP traffic</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n506"><a class="md-toc-inner" href="#day-10">Day 10</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n508"><a class="md-toc-inner" href="#security-assessment-determine-what-is-vulnerable">Security Assessment (Determine what is vulnerable)</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n525"><a class="md-toc-inner" href="#nmap-here">NMAP here</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n529"><a class="md-toc-inner" href="#day-11">Day 11</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n531"><a class="md-toc-inner" href="#ms-sql-server">MS SQL Server</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n554"><a class="md-toc-inner" href="#day-12">Day 12</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n556"><a class="md-toc-inner" href="#enumerationshares">Enumeration/Shares</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n560"><a class="md-toc-inner" href="#network-file-system-nfs">Network File System (NFS)</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n572"><a class="md-toc-inner" href="#day-13">Day 13</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n574"><a class="md-toc-inner" href="#privilegesprivilege-escalation-windows">Privileges/Privilege Escalation (Windows)</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n593"><a class="md-toc-inner" href="#windows-privilege-escalation-vectors">Windows Privilege Escalation Vectors</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n623"><a class="md-toc-inner" href="#initial-information-gathering">Initial Information Gathering</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n629"><a class="md-toc-inner" href="#exploitation">Exploitation</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n635"><a class="md-toc-inner" href="#day-14">Day 14</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n637"><a class="md-toc-inner" href="#cicd">CI/CD</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n641"><a class="md-toc-inner" href="#risks-associated-with-cicd">Risks Associated with CI/CD</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n663"><a class="md-toc-inner" href="#example">Example</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n680"><a class="md-toc-inner" href="#day-15">Day 15</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n682"><a class="md-toc-inner" href="#cyber-careers">Cyber Careers</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n683"><a class="md-toc-inner" href="#penetration-tester">Penetration Tester</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n695"><a class="md-toc-inner" href="#security-analyst">Security Analyst</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n707"><a class="md-toc-inner" href="#incident-responder">Incident Responder</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n719"><a class="md-toc-inner" href="#red-teamer">Red Teamer</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n731"><a class="md-toc-inner" href="#security-engineer">Security Engineer</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n746"><a class="md-toc-inner" href="#day-16">Day 16</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n748"><a class="md-toc-inner" href="#osint">OSINT</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n770"><a class="md-toc-inner" href="#osint-process-cycle">OSINT Process Cycle</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n814"><a class="md-toc-inner" href="#account-discovery--analysis">Account Discovery &amp; Analysis</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n835"><a class="md-toc-inner" href="#google-dorking">Google Dorking</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n868"><a class="md-toc-inner" href="#blockchain--osint">BlockChain &amp; OSINT</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n881"><a class="md-toc-inner" href="#day-17">Day 17</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n883"><a class="md-toc-inner" href="#cloud-services-amazon-web-service-aws">Cloud Services (Amazon Web Service (AWS))</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n889"><a class="md-toc-inner" href="#amazon-s3-simple-storage-service">Amazon S3 (Simple Storage Service)</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n893"><a class="md-toc-inner" href="#discover-bucket-names">Discover Bucket Names</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n896"><a class="md-toc-inner" href="#listing-the-contents-of-buckets">Listing the Contents of Buckets</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n901"><a class="md-toc-inner" href="#downloading-objects">Downloading Objects</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n904"><a class="md-toc-inner" href="#levels-of-amazon-s3-authentication">Levels of Amazon S3 Authentication</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n920"><a class="md-toc-inner" href="#aws-identify-and-access-management-iam">AWS Identify and Access Management (IAM)</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n929"><a class="md-toc-inner" href="#conducting-reconnaissance-with-iam">Conducting Reconnaissance with IAM</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n946"><a class="md-toc-inner" href="#day-18">Day 18</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n948"><a class="md-toc-inner" href="#containers">Containers</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n950"><a class="md-toc-inner" href="#docker">Docker</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n965"><a class="md-toc-inner" href="#aws-elastic-container-registry---erc-public-gallery">AWS Elastic Container Registry - ERC Public Gallery</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n971"><a class="md-toc-inner" href="#pull-repository-from-aws-erc">Pull Repository from AWS ERC</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n974"><a class="md-toc-inner" href="#run-the-container-and-interact">Run the Container and Interact</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n980"><a class="md-toc-inner" href="#save-downloaded-images-as-a-tar-file">Save Downloaded images as a .tar file</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n993"><a class="md-toc-inner" href="#day-19">Day 19</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n995"><a class="md-toc-inner" href="#phishing">Phishing</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n998"><a class="md-toc-inner" href="#signs-to-look-for">Signs to look for</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1013"><a class="md-toc-inner" href="#day-20">Day 20</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n1015"><a class="md-toc-inner" href="#analysis-of-suspicous-files">Analysis of Suspicous Files</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n1017"><a class="md-toc-inner" href="#initial-analysis">Initial Analysis</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n1020"><a class="md-toc-inner" href="#virustotal">VirusTotal</a></span></p></div><h4 id='day-1'><span>Day 1</span></h4><h5 id='insecure-direct-object-reference-idor-vulnerability'><span>Insecure Direct Object Reference (IDOR) Vulnerability</span></h5><p><span>TryHackMe IDOR room </span><a href='https://tryhackme.com/room/idor'><span>here</span></a></p><p><span>A type of access control vulnerability, when an attacker can gain access to information or actions not indented for them. </span></p><p><span>Occurs when a web server receives user supplied input to retrieve objects (file,data,documents). The web application does not validate whether user should have access to the requested object</span></p><h5 id='real-world-idorfinding-idor-vulnerabilities'><span>Real World IDOR/Finding IDOR Vulnerabilities</span></h5><p><span>Seeing a product, user, or service identifier in the URL is a must to test. </span></p><p><strong><span>Find IDOR Vulnerabilities</span></strong></p><p><span>Changing user-supplied data</span></p><p><span>	</span><strong><span>Query Component</span></strong><span> - data passed in the url when making a request to a website</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">https://website.com/profile?id=23</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p><span>    ^Protocol     ^Domain      ^Page      ^Query component</span></p><p><span>by changing the query component can we see other users data using a different ID ?</span></p><p><span>	</span><strong><span>Post Variables</span></strong><span> - examining the contents of forms on a website can reveal fields that could be vulnerable to IDOR exploitation.</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&lt;form method="POST" action="/update-password"&gt;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  &lt;input type="hidden" name"user_id" value="123"&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  &lt;div&gt;New Password:&lt;/div&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  &lt;div&gt;&lt;input type="password" name="new_password"&gt;&lt;/div&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  &lt;div&gt;&lt;input type="submit" value="Change Password"&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&lt;/form&gt;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre><p><span>You can see from the input type line above that the users id is being passed to the webserver in a POST request. Can we change this to change a users password?</span></p><p><span>	</span><strong><span>Cookies</span></strong><span> - Used to remember your session when connected to a website. webservers securely use these to retrieve user information.</span></p><p><span>sometimes these may store user information in the cookie itself such as user&#39;s ID. Changing the value of the cookie could display user information.</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">GET /user-information HTTP/1.1</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Host: website.thm</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Cookie: user_id=9</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">User-Agent: Mozilla/5.0 (Ubuntu;Linux) Firefox/94.0</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 92px;"></div><div class="CodeMirror-gutters" style="display: none; height: 92px;"></div></div></div></pre><hr /><p>&nbsp;</p><h4 id='day-2'><span>Day 2</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='web-servers'><span>Web Servers</span></h5><p><span>TryHackMe Web Fundamentals </span><a href='https://tryhackme.com/room/webfundamentals'><span>here</span></a></p><p><span>	</span><strong><span>HTTPS</span></strong></p><p><span>client-server protocol to provide communication between a client and a webserver</span></p><p><span>HTTP adds specific headers to the request to identify the protocol and other information.</span></p><ul><li><p><span>	</span><span>Method and target header will always be included</span></p><ul><li><p><span>    Target header will specify what to receive from the server</span></p></li><li><p><span>    Method header will specify how</span></p><ul><li><span>    When retrieving information from a webserver you commonly use the Get method</span></li><li><span>    When sending information to a webserver you commonly use the Post method</span></li></ul></li></ul></li><li><p><span>    Status codes tell the client browser how the webserver interpreted the request </span><code>HTTP 200 OK</code></p></li></ul><h5 id='cookies'><span>Cookies</span></h5><p><span>used to distinguish your request from someone else&#39;s. Identifies different users and access levels. </span></p><p><span>a tiny piece of meta data containing several types of data determined by the webserver developers</span></p><p><span>	</span><strong><span>Authentication/session cookies</span></strong></p><p><span>	</span><span>used to identify you and what access level is attached to your session on the webserver</span></p><ol start='' ><li><p><span>send a login request to a server</span></p></li><li><p><span>webserver verifies that it received the data and sets/assigns a unique cookie</span></p><p><span>all future requests will be automatically set with that cookie to identify you and your access level</span></p></li><li><p><span>Once webserver receives future get requests and cookies it will de-seralize your session</span></p><p><span>Deserialization if the process of taking a data format such as JSON and rebuilding it as an object</span></p></li></ol><p><span>There are several components that make up a cookie but we are only worried about the </span><code>name</code><span> and </span><code>value</code><span> since the others are handled by the webserver</span></p><p><span>Cookies are always prepared in pairs. </span><code>name-value</code><span> and </span><code>attribute-value</code></p><p><span>Set-Cookie : </span><code>Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; Domain=&lt;domain-value&gt;; Secure; HttpOnly</code></p><p><span>	</span><strong><span>Cookie Manipulation</span></strong></p><p><span>	</span><span>taking a cookie an modifying it to obtain unintended behavior. They are stored locally on your host system, meaning you have complete control.</span></p><p><span>	</span><span>Open developer tools in your browser to find your cookies Application tab (Chrome) , Storage tab (Firefox)</span></p><ol start='' ><li><span>Obtain a cookie value from registering or signing up for an account.</span></li><li><span>Decode the cookie value. </span><a href='https://0x1.gitlab.io/code/CyberChef/'><span>CyberChef</span></a></li><li><span>Identify the object notation or structure of the cookie.</span></li><li><span>Change the parameters inside the object to a different parameter with a higher privilege level, such as admin or administrator.</span></li><li><span>Re-encode the cookie and insert the cookie into the value space; this can be done by double-clicking the value box.</span></li><li><span>Action the cookie; this can be done by refreshing the page or logging in.</span></li></ol><p><span>  More on authentication bypass </span><a href='https://tryhackme.com/jr/authenticationbypass'><span>here</span></a></p><hr /><p>&nbsp;</p><h4 id='day-3'><span>Day 3</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='content-discovery'><span>Content Discovery</span></h5><p><span>TryHackMe </span><a href='https://tryhackme.com/room/contentdiscovery'><span>Content Discovery</span></a></p><p><span>the assets and inner workings of the application that we are testing such as files, folders, or pathways.</span></p><p><span>A useful technique allowing us to find things that were not suppose to see.</span></p><ul><li><span>Config files</span></li><li><span>Passwords and secrets</span></li><li><span>Backups</span></li><li><span>Content management systems</span></li><li><span>Administrator dashboards or portals</span></li></ul><p><span>You can manually search for things like </span><code>admin</code><span> or </span><code>passwords.txt</code><span> or use </span><code>dirbuster</code><span> to automatically do this process</span></p><p><span>a wordlist will contain several common directory/files names to search for on a website, </span><a href='https://github.com/danielmiessler/SecLists'><span>SecLists</span></a><span> has a great collection.</span></p><p><span>Kali default = </span><code>/usr/share/wordlists</code></p><p><code>dirb &lt;URL&gt; &lt;wordlist&gt;</code></p><h5 id='default-credentials'><span>Default Credentials</span></h5><p><span>TryHackMe </span><a href='https://tryhackme.com/jr/authenticationbypass'><span>Authentication Bypass</span></a></p><p><span>Sometimes devs leave default passwords on portals, its always a good idea to try common username/password combinations.</span></p><hr /><p>&nbsp;</p><h4 id='day-4'><span>Day 4</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='authentication'><span>Authentication</span></h5><p><span>A process of identifying a user&#39;s identity, establishing that they are who they say they are.</span></p><ol start='' ><li><span>A known set of credentials to the server and user such as a username and password</span></li><li><span>Token authentication (these are unique pieces of encrypted text)</span></li><li><span>Biometric authentication (fingerprints, retina data, etc.)</span></li></ol><p><span>TryHackMe </span><a href=''><span>Principles of Security</span></a></p><h5 id='fuzzing'><span>Fuzzing</span></h5><p><span>An automated means of testing an element of a web application until the application gives a vulnerability or valuable information. Used to test hundreds of credentials or other information using a wordlist to test the web applications response.</span></p><p><strong><span>Burp Suite Fuzzing</span></strong></p><ol start='' ><li><p><span>Navigate to the site you want to fuzz</span></p></li><li><p><span>Launch Burp Suite</span></p></li><li><p><span>Navigate to the Proxy Tab and press </span><code>Intercept On</code></p></li><li><p><span>Back in Firefox us the FoxyProxy Extension to turn on the Burp Proxy</span></p></li><li><p><span>Enter any random username::password combination </span></p></li><li><p><span>Return to Burp Suite and you should see a post request with some information, including the username and password you entered</span></p></li><li><p><span>Right click the windows with the data and click </span><code>sent to intruder</code></p></li><li><p><span>Inside the Intruder tab:</span></p><ol start='' ><li><p><span>Click on Positions and clear the pre-selected positions by pressing </span><code>clear &amp;</code></p></li><li><p><span>Add the username value as the first position and the password value as the second position </span></p><p><span>Note: you can use a wordlist against usernames and passwords</span></p><p><img src="burp_position.png" referrerpolicy="no-referrer" alt="burp_position"></p></li><li><p><span>Select the </span><code>Cluster Bomb</code><span> in the &quot;attack type&quot; drop down </span></p></li><li><p><span>In the payloads tab under Payload Options [Simple List] load the wordlist/or type passwords you want to use to fuzz for each set in </span><code>Payload Set</code></p></li><li><p><span>Now press the </span><code>Start Attack</code><span> button, this will being fuzzing the login form.</span></p><p><span>look at the results and sort by length. You can determine failed and successful attempts.</span></p><p><img src="burp_length.png" referrerpolicy="no-referrer" alt="burp_length"></p></li></ol></li></ol><hr /><p>&nbsp;</p><h4 id='day-5'><span>Day 5</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='cross-site-scripting-xss'><span>Cross-Site Scripting (XSS)</span></h5><p><span>TryHackMe XSS </span><a href='https://tryhackme.com/room/xssgi'><span>here</span></a></p><p><span>An injection attack where malicious JavaScript gets injected into a web application with the intention of being executed by other users</span></p><ul><li><span>stealing victims cookies</span></li><li><span>running keyloggers</span></li><li><span>redirecting </span></li><li><span>placing orders</span></li><li><span>reseting passwords, etc.</span></li></ul><p><u><span>Four different types of XSS</span></u></p><ul><li><p><strong><span>Document Object Model (DOM)</span></strong></p><ul><li><span>a programming interface for HTML and XML documents</span></li><li><span>represents the page so that programs can change the document structure,sytle, and content</span></li></ul></li></ul><p><span>		</span><span>DOM based XSS is when javascript execution happens directly in the browswer without any new pages being loaded. Execution occurs when the websites Javascript code acts on input or user interaction.</span></p><ul><li><p><strong><span>Reflected</span></strong></p><ul><li><p><span>happens when user-supplied data in an HTTP request is included in the webpage source without any validation</span></p></li><li><p><span>Example could be an error message which is in a query string of an url that is reflected onto the webpage</span></p><ul><li><p><span>The error message could be replaced with JavaScript code which gets executed when a user visits the page</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">https://website.thm/login?error=Username%20Is%20Incorrect</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre></li></ul></li></ul></li><li><p><strong><span>Stored</span></strong></p><ul><li><span>The XSS payload is stored on the web application (in a database for example) and then gets ran when other users visit the site</span></li><li><span>Example could be a blog, if the message is not properly validated, then every visit to the blog page would run the malicious Javascript code.</span></li></ul></li><li><p><strong><span>Blind</span></strong></p><ul><li><span>Similar to stored but you cannot see the payload working or be able to test against yourself first. </span></li><li><span>Example could be a contact form, your message could contain an XSS payload, when a member views the message it could be executed</span></li></ul></li></ul><hr /><p>&nbsp;</p><h4 id='day-6'><span>Day 6</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><p><span>TryHackMe </span><a href='https://tryhackme.com/room/fileinc'><span>file inclusion</span></a></p><h5 id='local-file-inclusion-lfi'><span>Local File Inclusion (LFI)</span></h5><p><span>found on various web applications that allows an attacker to include and read local files on the server. These files could include sensitive data. This happens due to a developers lack of security awareness, and lack of user input validation, which could be chained to Remote Code Execution (RCE)</span></p><p><span>PHP functions that cause this vulnerability</span></p><ul><li><span>include</span></li><li><span>require</span></li><li><span>include_once</span></li><li><span>require_once</span></li></ul><h5 id='identifying-and-testing-for-lfi'><span>Identifying and Testing for LFI</span></h5><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><p><span>Usually interested in HTTP parameters to manipulate the input and inject attack payloads (GET/POST)</span></p><p><strong><span>Parameters</span></strong><span> are query parameter strings attached to the URL that could be used to retrieve data or perform actions based on user input.</span></p><p><img src="lfi.png" referrerpolicy="no-referrer" alt="lfiparameters"></p><p><span>Its important to understand how the data is processed within the application. You can then test using manual or automated tools</span></p><p><span>Example of PHP code that is vulnerable</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&lt;?PHP</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>include($_GET["file"]);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">?&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">PHP code uses a GET request via the URL parameter file to include a file on the page. </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">http://example.com/index.php?file=secret.txt</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre><p><span>Other entry points: </span><u><span>User-Agent, Cookies, session</span></u><span>, and other </span><u><span>HTTP headers</span></u></p><p><span>Some examples of Linux system files that have sensative information</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/etc/issue</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/etc/passwd</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/etc/shadow</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/etc/group</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/etc/hosts</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/etc/motd</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/etc/mysql/my.cnf</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/proc/[0-9]*/fd/[0-9]* &nbsp; (first number is the PID, second is the filedescriptor)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/proc/self/environ</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/proc/version</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/proc/cmdline</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 253px;"></div><div class="CodeMirror-gutters" style="display: none; height: 253px;"></div></div></div></pre><p><strong><span>Testing</span></strong></p><ul><li><span>A direct file inclusion, which starts with /etc/passwd</span></li><li><span>using .. to get out the current directory, the number of .. is varies depending on the web app directory. </span></li><li><span>Bypassing filters using ....//.</span></li><li><span>URL encoding techniques (such as double encoding)</span></li></ul><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">http://example.thm.labs/page.php?file=/etc/passwd </span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">http://example.thm.labs/page.php?file=../../../../../../etc/passwd </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">http://example.thm.labs/page.php?file=../../../../../../etc/passwd%00 </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">http://example.thm.labs/page.php?file=....//....//....//....//etc/passwd </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">http://example.thm.labs/page.php?file=%252e%252e%252fetc%252fpasswd</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><p>&nbsp;</p><p><strong><span>PHP Filter</span></strong></p><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><p><span>wrapper is used in LFI to read the actual PHP page content, we can use this filter in encoding formats such as base64 or ROT13</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">http://10-10-250-88.p.thmlabs.com/index.php?err=php://filter/resource=/etc/passwd</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p><span>now use base64 encoding</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">http://10-10-250-88.p.thmlabs.com/index.php?err=php://filter/convert.base64-encode/resource=/etc/passwd</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p><span>Once you get encoded ouput use </span><a href='http://www.base64decode.org' target='_blank' class='url'>www.base64decode.org</a><span> to decode</span></p><p>&nbsp;</p><p><strong><span>PHP Data</span></strong></p><p><span>used to include raw plain text or base64 encoded data. Used to include images on the current page</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">echo "&lt;what you want to encode with base64&gt;" | base64</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">echo "Base64 code" | base64 --decode</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 69px;"></div><div class="CodeMirror-gutters" style="display: none; height: 69px;"></div></div></div></pre><p><span>Include base64 data into vulnerable page</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> http://10-10-250-88.p.thmlabs.com/index.php?err=data://text/plain;base64,QW9DMyBpcyBmdW4hCg==</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p>&nbsp;</p><h5 id='lfi-to-rce-via-log-files-log-poisoning-attack'><span>LFI to RCE via Log Files (log poisoning attack)</span></h5><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><p><span>Include a malicious payload into services log files such as Apache, SSH, etc. then the LFI vulnerability is used to request the page that includes the payload.</span></p><p><span>Users can include payloads into apache log file via User-Agent </span><code>(-A)</code><span> or other HTTP headers, or in the username section of SSH</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Test User-Agent</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">curl -A "Test" http://10-10-250-88.p.thmlabs.com/index.php</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Test User-Agent with PHP payload</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">curl -A "&lt;?php phpinfo();?&gt;" http://10-10-250-88.p.thmlabs.com/index.php</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><p><span>Now you can use LFI to view the log file</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">https://10-10-250-88.p.thmlabs.com/index.php?err=./includes/logs/app_access.log</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p>&nbsp;</p><h5 id='lfi-to-rce-via-php-sessions'><span>LFI to RCE via PHP Sessions</span></h5><p><span>PHP sessions are file within the operating system that store temporary information. After the user logs out of the web application the php session information will be deleted</span></p><p><span>This technique requires enumeration to read the PHP config files first to know where the php session file are.</span></p><p><u><span>Common Locations:</span></u><span> </span></p><ul><li><span>c:\Windows\Temp</span></li><li><span>/tmp/</span></li><li><span>/var/lib/php5</span></li><li><span>/var/lib/php/session</span></li></ul><p><span>We know from reading the php config from log poisoning that the php sessions are stored in the </span><code>/tmp</code><span> directory</span></p><p><span>Find PHP session file name the default naming scheme: </span><code>sess_&lt;SESSION_ID&gt;</code></p><p><span>The session ID can be found in the browser in developer tools (CTRL + SHIFT + i), application tab, Cookies, select target website</span></p><p><code>PHPSESSID : 3f7dj4vl4u0244807elgug8cb2</code><span>  </span></p><p><span>the file will be </span><code>sess_3f7dj4vl4u0244807elgug8cb2</code><span> in the </span><code>/tmp</code><span> directory</span></p><p><span>Now you can use LFI to call the session file</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">https://10-10-250-88.p.thmlabs.com/login.php?err=/tmp/sess_3f7dj4vl4u0244807elgug8cb2</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><hr /><p>&nbsp;</p><h4 id='day-7'><span>Day 7</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='nosql'><span>NoSQL</span></h5><p><span>a database that refers to non-relational database that is short for non SQl and Not Only SQL. A data-storing and data-retrieving system.</span></p><p><span>commonly used for big data and IoT devices due to fast queries, ease of use, scalability, and flexible data structure</span></p><p><u><span>Databases</span></u><span>: MongoDB, Couchbase, RavenDB, etc..</span></p><p><strong><span>MongoDB</span></strong><span> , free and popular document store NoSQL database (objects stored in format called BSON, supports JSON data types)</span></p><p><span>	</span><span>consists of different names compared to MySQL and MSSQL</span></p><figure><table><thead><tr><th><span>MongoDB</span></th><th><span>MySQL Comparison</span></th></tr></thead><tbody><tr><td><span>Collections</span></td><td><span>Tables</span></td></tr><tr><td><span>Documents</span></td><td><span>Rows</span></td></tr><tr><td><span>Fields</span></td><td><span>Columns</span></td></tr><tr><td><span>$and</span></td><td><span>AND</span></td></tr><tr><td><span>$or</span></td><td><span>OR</span></td></tr><tr><td><span>$eq</span></td><td><span>=</span></td></tr></tbody></table></figure><h5 id='interacting-with-mongodb-server'><span>Interacting with MongoDB server</span></h5><ol start='' ><li><p><span>ssh into mongoDB server </span></p></li><li><p><span>type </span><code>mongo</code><span> to connect to server on the localmachine</span></p></li><li><p><code>&gt; show databases</code></p><ol start='' ><li><p><span>the </span><code>use</code><span> command can be used to connect to a database or create one</span></p><ul><li><code>use &lt;newdb name&gt;</code></li><li><code>db.createCollection(&quot;users&quot;)</code><span> function to create collections(tables) named &quot;users&quot;</span></li><li><code>db.getCollectionName()</code><span> to view newly created collections(tables)</span></li></ul></li></ol></li><li><p><span>Create a document within the users collection(table) and insert data</span></p><ol start='' ><li><p><code>db.users.insert({id: &quot;1&quot;, username: &quot;admin&quot;, email: &quot;admin@thm.labs&quot;, password: &quot;123&quot;})</code></p><ul><li><code>db.users.find()</code><span>show available information added. MongoDB automatically creates a unique ID</span></li></ul></li><li><p><code>db.users.update({id: &quot;1&quot;}, {set: {username: &quot;admin_new&quot;}});</code><span> update with new information</span></p><ol start='' ><li><code>db.users.find()</code><span> to verify update was successful</span></li></ol></li><li><p><code>db.users.remove({&#39;id&#39;:&#39;1&#39;})</code><span> remove id user</span></p><ul><li><code>db.users.find()</code><span> verify</span></li><li><code>db.users.drop()</code></li></ul></li></ol></li></ol><h5 id='nosql-injection'><span>NoSQL Injection</span></h5><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><p><span>Web security vulnerability that allows the attacker to have control over the database. Happens when sending queries via untrusted and unfiltered web applicaiton input, which leads to unauthorized information.</span></p><p><strong><span>Bypassing Login Pages</span></strong></p><p><span>connect to database and then look for a certain username and password; if they exist then we have a valid entry.</span></p><p><u><span>query</span></u><span>:</span></p><ul><li><p><span>	</span><code>db.users.findOne({username: &quot;admin_new&quot;, password: &quot;123&quot;})</code></p><ul><li><span>successful returns documents, unsuccessful returns null</span></li></ul></li></ul><p><span>Before exploiting there are several operators that we need to be familir with used heavily with injections</span></p><figure><table><thead><tr><th><span>Operator</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>$eq</span></td><td><span>matches records equal to certain value</span></td></tr><tr><td><span>$ne</span></td><td><span>not equal</span></td></tr><tr><td><span>$gt</span></td><td><span>great than</span></td></tr><tr><td><span>$where</span></td><td><span>based on javascript condition</span></td></tr><tr><td><span>$exists</span></td><td><span>matches records that have a certain field</span></td></tr><tr><td><span>$regex</span></td><td><span>satisfy certain regular expressions</span></td></tr></tbody></table></figure><p><strong><span>Exploiting the Logic</span></strong></p><p><span>injecting JSON object which includes one of the NoSQL operators </span></p><p><span>using </span><code>$ne</code><span> in the password field, find a document with the username equal to admin and the password is not equal to xyz, which returns TRUE because the password is not xyz</span></p><p><code>db.users.findOne({username: &quot;admin&quot;, password: {&quot;$ne&quot;:&quot;xyz&quot;}})</code></p><p><span>Eunumerate other fields</span></p><p><code>db.users.findOne({username: {&quot;$ne&quot;:&quot;admin&quot;}, password: {&quot;$ne&quot;:&quot;xyz}})</code></p><p><strong><span>NoSQL injection within the web application</span></strong></p><ol start='' ><li><p><span>find entry point that does not sanitize user&#39;s input</span></p></li><li><p><span>accept user&#39;s input as GET orPOST</span></p><ul><li><span>inject arrays of th MongoDB operator to match the JSON objection to match the key: value.</span></li><li><code>http://example.com/search?username=admin&amp;role[$ne]=user</code></li><li><span>this concept can also be applied to POST requests</span></li></ul></li><li><p><span>you can also utalize JSON as user&#39;s input to exploit NoSQL</span></p></li></ol><p>&nbsp;</p><p><img src="sql_burp.png" referrerpolicy="no-referrer" alt="burp"></p><p><span>Using URL to find only roles</span></p><p><img src="nsql_inject.png" referrerpolicy="no-referrer" alt="nsql_inject"></p><p><span>Using URL to find users</span></p><p><img src="nsql_user.png" referrerpolicy="no-referrer" alt="nsql_user"></p><hr /><p>&nbsp;</p><p>&nbsp;</p><h4 id='day-8'><span>Day 8</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='powershell-transcription-logging'><span>Powershell Transcription Logging</span></h5><p><span>Capture input and output of windows powershell commands. Enabled in group policy, or the Windows registry below:</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.25px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">reg add HKEY_LOCAL_MACHINE\Software\Policies\Microsoft\Windows\PowerShell\Transcription /v EnableTranscripting /t REG_DWORD /d 0x1 /f</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">reg add HKEY_LOCAL_MACHINE\Software\Policies\Microsoft\Windows\PowerShell\Transcription /v OutputDirectory /t REG_SZ /d C:/ /f</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">reg add HKEY_LOCAL_MACHINE\Software\Policies\Microsoft\Windows\PowerShell\Transcription /v EnableInvocationHeader /t REG_DWORD /d 0x1 /f</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><p><span>Each transaction log is a simple plain text file. You can see commands and output of everything that was ran with Powershell</span></p><p><span>Connect to windows with rdp </span><code>xfreerdp /u:&lt;username&gt; /p:&lt;password&gt; /v:&lt;IP&gt;</code></p><h5 id='living-off-the-land--lolbin'><span>Living Off the Land  (</span><a href='https://lolbas-project.github.io/'><span>LOLbin</span></a><span>)</span></h5><p><span>use </span><a href='https://0x1.gitlab.io/code/CyberChef/'><span>CyberChef</span></a><span> to decode </span></p><h5 id='shellbags'><span>Shellbags</span></h5><p><span>Microsoft registry keeps track of folder settings in order to enchance the users experience in ShellBags. Primary purpose is to improve user experience and remember preferences while browsing folders.</span></p><p><span>Important for forensics. </span></p><p><span>Path </span><code>C:\Users\…..\AppData\Local\Microsoft\Windows</code></p><p><span>Registry: </span><code>\HKEY_CLASSES_ROOT\LocalSettings\Software\Microsoft\Windows\Shell\Bags</code></p><p><span>	</span><span>BagMRU - stores folder names and folder paths, root represented by 0</span></p><p><span>	</span><span>Bag - view preferences such as size of the window, location, and view mode</span></p><p><span>ShellBag Explorer - </span><a href='https://ericzimmerman.github.io/#!index.md'><span>Eric Zimmermans</span></a></p><p><span>File &gt; Open offline hive .dat or from Registry</span></p><p><span>	</span><span>you can see from the decoded .dat file we can see the file structure of the encoded file good for forensics</span></p><p><strong><span>UHA Archive</span></strong></p><p><span>similar to ZIP or RAR but faster and with better compression rates.</span></p><hr /><p>&nbsp;</p><p>&nbsp;</p><h4 id='day-9'><span>Day 9</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='wireshark'><span>Wireshark</span></h5><p><span>packet analysis used to capture and intercept network traffic that passes the computer&#39;s network interfaces. useful for troubleshooting. real-time network packets in human-readable format.</span></p><p><span>aka &quot;packet sniffer&quot;,&quot;packet analyzer&quot;, &quot;protocol analyzer&quot;, or &quot;network analyzer&quot;</span></p><p><strong><span>5 major components</span></strong></p><figure><table><thead><tr><th><span>Component</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>command menus</span></td><td><span>standard pulldown menus (file / capture)</span></td></tr><tr><td><span>display filter</span></td><td><span>specify rules to find certain packets</span></td></tr><tr><td><span>listing of captured packets</span></td><td><span>shows all sent and recieved network packets (source/destination/protocols)</span></td></tr><tr><td><span>details of selected packet header</span></td><td><span>details about selected network packets and shows all headers (tcp/udp info)</span></td></tr><tr><td><span>packet content</span></td><td><span>the packet content in hexadecimal and ASCII format</span></td></tr></tbody></table></figure><p><strong><span>Filters</span></strong></p><p><span>Berkeley Packet Filter (BPF) is used in packet analyzers to filter specific packets pre-capture. </span></p><p><span>sent or recieved by an IP address     </span><code>ip.addr == &lt;IP&gt;</code></p><p><span>specify protocol   </span><code>http contains google.com</code></p><p><span>specify port  </span><code>tcp.port == 3389</code></p><p><span>you can use </span><code>not</code><span> to exclude </span><code>not tcp.port == 3389</code></p><h5 id='analyze-http-traffic'><span>Analyze HTTP traffic</span></h5><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><p><u><span>GET</span></u></p><p><span>filter : </span><code>http</code><span> show all http traffic to and from </span></p><p><span>get more info by clicking the drop down arrow next to protocol</span></p><p><img src="wireshare_http.png" referrerpolicy="no-referrer" alt="wireshare_http"></p><p><code>http.request.method == GET</code><span> show all get requests</span></p><p><u><span>POST</span></u></p><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><p><code>http.request.method == POST</code><span> follow post request and follow TCP stream (right click &gt; follow)</span></p><p><img src="wireshare_follow.png" referrerpolicy="no-referrer" alt="wireshare_follow"></p><p><img src="wireshare_tcpstream.png" referrerpolicy="no-referrer" alt="wireshark_tcpstream"></p><p><u><span>DNS</span></u></p><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><p><code>udp.port == 53</code></p><p><span>as you can see from the results there is a request to aoc.tryhackme.com you can see the IP address by double clicking on the answers section. You may also find TXT dns query to follow</span></p><p><img src="wireshark_dns.png" referrerpolicy="no-referrer" alt="wireshark_dns"></p><p><u><span>FTP</span></u></p><p><code>tcp.port == 21</code><span> you may also follow stream for more info </span></p><p><img src="wireshare_ftp.png" referrerpolicy="no-referrer" alt="wireshark_ftp"></p><p><img src="wireshark_ftp-data.png" referrerpolicy="no-referrer" alt="wireshark_ftp"></p><hr /><p>&nbsp;</p><p>&nbsp;</p><h4 id='day-10'><span>Day 10</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='security-assessment-determine-what-is-vulnerable'><span>Security Assessment (Determine what is vulnerable)</span></h5><p><span>Overview of IP Addresses (Logical Address) </span><a href='networking_introduction.html'><span>here</span></a></p><p><strong><span>TCP/IP Protocol examples:</span></strong></p><ul><li><span>Hypertext Transfer Protocol (HTTP) for serving webpages</span></li><li><span>Domain Name System (DNS) for resolving hostnames to IP addresses</span></li><li><span>Post Office Protocol version 3 (POP3) for delivering email</span></li><li><span>Simple Mail Transfer Protocol (SMTP) for sending email</span></li><li><span>Telnet for remote login</span></li><li><span>Secure Shell (SSH) for secure remote login</span></li></ul><p><span>Overview of Ports </span><a href='networking_introduction.html'><span>here</span></a></p><h5 id='nmap-here'><span>NMAP </span><a href='active.html'><span>here</span></a></h5><hr /><p>&nbsp;</p><p>&nbsp;</p><h4 id='day-11'><span>Day 11</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='ms-sql-server'><span>MS SQL Server</span></h5><p><span>a Relational Database Management System (RDBMS)  is a relational database which is a group of tables that have relations.</span></p><p><u><span>Example:</span></u><span> </span></p><p><img src="relation_db.png" referrerpolicy="no-referrer" alt="relation_db"></p><p>&nbsp;</p><ol start='' ><li><span>Enumerate with a </span><code>NMAP</code><span> scan to figure out what port MS SQL is on</span></li><li><span>Get an interactive database shell using </span><code>sqsh -S &lt;IP&gt; -U &lt;username&gt; -P &lt;password&gt;</code></li><li><span>Get table names </span><code>SELECT * FROM &lt;table_name&gt; WHERE &lt;condition&gt;;</code></li></ol><p><span>		</span><code>SELECT *</code><span> - return specific columns * means all</span></p><p><span>		</span><code>FROM &lt;table_name&gt;</code><span>  specify the table you want to read from</span></p><p><span>		</span><code>WHERE &lt;condition&gt;</code><span> to specify rows(entities)</span></p><p><span>			</span><code>go</code></p><ol start='4' ><li><span>Can you run commands (</span><code>xp_cmdshell</code><span> might be enabled)</span></li></ol><p><span>	</span><code>xp_cmdshell &#39;&lt;command&gt;&#39;</code></p><hr /><p>&nbsp;</p><p>&nbsp;</p><h4 id='day-12'><span>Day 12</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='enumerationshares'><span>Enumeration/Shares</span></h5><p><strong><span>FInding out what method was used to extract data</span></strong></p><p><span>Figure out what machine may have unusual traffic and scan it for more information</span></p><p><span>	</span><strong><span>Nmap</span></strong><span>  </span><code>nmap -p- &lt;IP&gt; -Pn</code></p><h5 id='network-file-system-nfs'><span>Network File System (NFS)</span></h5><p><span>allows for the ablility to transfer files between different computers. </span></p><p><span>Check files being shared </span><code>showmount -e &lt;IP&gt;</code></p><p><span>	</span><code>-e</code><span> shows the NFS servers export list</span></p><p><strong><span>Mount the share</span></strong></p><p><span>	</span><code>mkdir &lt;mountpoint&gt;</code></p><p><span>	</span><code>mount &lt;IP&gt;:/&lt;share&gt; &lt;mountpoint&gt;</code></p><p><span>if you want to mount a different share you need to use </span><code>umount &lt;mountpoint&gt;</code></p><p><span>MD5 hash : </span><code>md5sum &lt;file&gt;</code></p><hr /><p>&nbsp;</p><p>&nbsp;</p><h4 id='day-13'><span>Day 13</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='privilegesprivilege-escalation-windows'><span>Privileges/Privilege Escalation (Windows)</span></h5><p><span>privileged accounts will allow specific accesses on the system and make changes. </span></p><p><span>a &quot;domain&quot; is a central registry used to manage all users and computers within the organization. Its common to manage accounts with grous. a regular user can be added to the Domain Administrators group giving those permissions/privileges.</span></p><figure><table><thead><tr><th><span>Windows Server Account</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>Domain Administrators</span></td><td><span>highest account level you will find in an enterprise. Can manage all accounts of the organization.</span></td></tr><tr><td><span>Services</span></td><td><span>used by software to perform their tasks suck as backups or anitvirus scans</span></td></tr><tr><td><span>Domain Users</span></td><td><span>typically used by employees. just enough privileges to do their daily jobs.</span></td></tr><tr><td><span>Local Accounts</span></td><td><span>only valid on the local system can not be used over the domain</span></td></tr></tbody></table></figure><h5 id='windows-privilege-escalation-vectors'><span>Windows Privilege Escalation Vectors</span></h5><p><a href='https://lolbas-project.github.io/'><span>Living off the Land Binaries</span></a><span> is an exellent resource for windows privilege escalation.</span></p><figure><table><thead><tr><th><span>Escalation Vector</span></th><th><span>Information</span></th></tr></thead><tbody><tr><td><span>Stored Credentials</span></td><td><span>Credentials can be saved in files by the user or in a config file</span></td></tr><tr><td><span>Windows Kernel Exploit</span></td><td><span>Kenerls can have known vulnerabilities that can be exploited</span></td></tr><tr><td><span>Insecure file/folder permissions</span></td><td><span>Sometime regular users can have read or write privileges that can contain sensative informatoin</span></td></tr><tr><td><span>Insecure Service Permissions</span></td><td><span>Low privilege users may have right to services allowing them to query/start/or stop a service</span></td></tr><tr><td><span>DLL Hijacking</span></td><td><span>Applications use DLL files to support their execution. Sometimes even if a DLL is not present it can still be called by the application. </span><br><span>Find a DLL the application is looking for in a location we can write to can help us create a malicious DLL file that will be ran by the application</span></td></tr><tr><td><span>Unquoted Service Path</span></td><td><span>if the executable path of a service contains a space and is not enclosed in quotes.</span><br><span>you could introduce your own malicious executables to run instead of the intended executable</span></td></tr><tr><td><span>Always installed elevated</span></td><td><span>Windows applications can be installed using Windows Installer known as MSI package files.</span><br><span>Windows systems can be configures with the &quot;AlwaysInstallElevated&quot; policy, this allows the installation process to run with administrator privileges. </span><br><span>A malicious executable packaged as an MSI file could be run to obtain a higher privilege level.</span></td></tr><tr><td><span>Other Software</span></td><td><span>Software, applications, scripts installed on the target may also provide privilege escalation vectors</span></td></tr></tbody></table></figure><h5 id='initial-information-gathering'><span>Initial Information Gathering</span></h5><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><p><strong><span>Finding potential vectors</span></strong></p><p><span>Users on the system </span><code>net users</code></p><p><span>OS Version  </span><code>systeminfo | findstr &quot;OS Name&quot;</code></p><p><span>Installed Services </span><code>wmic service list</code></p><h5 id='exploitation'><span>Exploitation</span></h5><p><span>Find a exploitable service such as Iperius Backup Service</span></p><p><span>TryHackMe Privilege Escalation </span><a href='https://tryhackme.com/room/windows10privesc'><span>Room</span></a></p><hr /><p>&nbsp;</p><p>&nbsp;</p><h4 id='day-14'><span>Day 14</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='cicd'><span>CI/CD</span></h5><p><span>Two terms that are associated with software development process and DevOps. Best practices that aim to make code delivery faster and more reliable.</span></p><p><strong><span>CI</span></strong><span> : Continuous integration, the process in which software source code is kept in a central repository (such as GitHub). All changes are stored in one central location</span></p><p><strong><span>CD</span></strong><span>: Continous Delivery (Development), the following step (integral) of the CI model where the code is automatically deployed to the test, pre-production, or production environment. </span></p><h5 id='risks-associated-with-cicd'><span>Risks Associated with CI/CD</span></h5><p><span>As pentesters one of the goals is to uncover weaknesses in the automation process. </span></p><p><span>Common software used by DevOps teams: </span><u><span>Jenkins</span></u><span>, </span><u><span>GitLab</span></u><span>, </span><u><span>Bamboo</span></u><span>, </span><u><span>AWS CodePipeline</span></u><span>.</span></p><figure><table><thead><tr><th><span>Major Risk</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>Access Security</span></td><td><span>Increase number of integration points can make access management difficult. </span><br><span>Allowing to much access can open a path for malicious activity</span></td></tr><tr><td><span>Permissions</span></td><td><span>Components connected to each other and perform tasks with user accounts.</span></td></tr><tr><td><span>Keys and Secrets</span></td><td><span>Integrations are done using keys (API keys, ID keys) or secrets. These need to be secured.</span><br><span>Anyone could potentially access resources using this authentication method</span></td></tr><tr><td><span>User Security</span></td><td><span>any user who has access to the source code repository could include a malicious component in the code base and could be included in the deployed application.</span></td></tr><tr><td><span>Default Configurations</span></td><td><span>If default creds are not changed, and used within CI/CD process this could result in a complete compromise.</span></td></tr></tbody></table></figure><h5 id='example'><span>Example</span></h5><p><span>A website implementing (CI/CD)</span></p><p><span>Enumerate with </span><code>dirb</code><span> to find any interesting directories</span></p><p><span>	</span><code>dirb http://10.10.56.67</code></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">+ http://10.10.56.67/admin (CODE:200|SIZE:363) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">+ http://10.10.56.67/index.html (CODE:200|SIZE:169) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">+ http://10.10.56.67/server-status (CODE:403|SIZE:276) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">+ http://10.10.56.67/warez (CODE:200|SIZE:606)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 92px;"></div><div class="CodeMirror-gutters" style="display: none; height: 92px;"></div></div></div></pre><p><span>Source code shows (/admin) a iframe that points to </span><strong><span>ls.html</span></strong><span>.</span></p><p><code>ssh &lt;username&gt;@10.10.56.67</code></p><p><span>looking at thegrinches scripts in his home folder we get a better idea of what the ls.html is doing.</span></p><p><span>We do have write permissions so we can edit the script (loot.sh) to print the contents to /etc/shadow, this can also be used to escalate privileges</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">#!/bin/bash</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">cat /etc/shadow &gt; /var/www/html/ls.html</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><p><span>Refresh the /admin page to see this in effect. Edit loot.sh to show the contents of the other files we do not have access to.</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">#!/bin/bash</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">cat /home/thegrinch/script/check.sh &gt; /var/www/html/ls.html</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><p><strong><span>Issues Observed</span></strong></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Folder permissions that were too lax: The low privileged McSkidy user could write to the Grinch's "loot" folder.</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">File permissions were misconfigured: The low privileged McSkidy user could change the contents of the loot.sh script.</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Improper key protection: In this example, Grinch's password can be seen as the secret key used to connect CI/CD components. If the key can be read from a configuration file, the attacker can reuse this key to their advantage.</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Installation was not secure: cronjobs were regularly running tasks without any controls for unauthorized changes. As you may have read in sector news, a similar lack of controls has led to the release of backdoored software.</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre><hr /><p>&nbsp;</p><p>&nbsp;</p><h4 id='day-15'><span>Day 15</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='cyber-careers'><span>Cyber Careers</span></h5><h6 id='penetration-tester'><span>Penetration Tester</span></h6><p><span>Responsible for testing technology products for security loopholes.</span></p><p><span>You may see penetration testing referred to as pentesting and ethical hacking. A penetration tester’s job role is to test the security of the systems and software within a company - through attempts to uncover flaws and vulnerabilities through systemised hacking. Penetration testers exploit these vulnerabilities to evaluate the risk in each instance. The company can then take these insights to rectify issues to prevent a real-world cyber attack.</span></p><p><span> Responsibilities</span></p><ul><li><span>Conduct tests on computer systems, networks, and web-based applications</span></li><li><span>Perform security assessments, audits, and analyse policies</span></li><li><span>Evaluate and report on insights, recommending actions for attack prevention</span></li></ul><p><span>TryHackMe Learning Paths - Pre Security, Offensive Pentesting, Jr Penetration Tester</span></p><h6 id='security-analyst'><span>Security Analyst</span></h6><p><span>Responsible for maintaining the security of an organisation&#39;s data</span></p><p><span>Security analysts are integral to constructing security measures across organisations, protect the company from attacks. Analysts explore and evaluate company networks to uncover actionable data and recommendations for engineers to develop preventative measures. This job role requisites working with various stakeholders to gain an understanding of security requirements and the security landscape.</span></p><p><span> Responsibilities</span></p><ul><li><span>Working with various stakeholders to analyse the cyber security throughout the company</span></li><li><span>Compile ongoing reports about the safety of networks, documenting security issues and measures taken in response</span></li><li><span>Develop security plans, incorporating research on new attack tools and trends, and measures needed across teams to maintain data security</span></li></ul><p><span>TryHackMe Learning Paths - Pre Security, Cyber Defense, Jr Penetration Tester</span></p><h6 id='incident-responder'><span>Incident Responder</span></h6><p><span>Identifies and mitigates attacks whilst an attackers operations are still unfolding</span></p><p><span>Incident responders respond productively and efficiently to security breaches. Responsibilities include creating plans, policies, and protocols for organisations to enact during and following incidents. This is often a highly pressurised position with assessments and responses required in real-time, as attacks are unfolding. Incident response metrics include MTTD, MTTA, and MTTR - the meantime to detect, acknowledge, and recover (from attacks.) The aim is to achieve a swift and effective response, retain financial standing and avoid negative breach implications. Ultimately, incident responders protect the company’s data, reputation, and financial standing from cyber attacks.</span></p><p><span> Responsibilities</span></p><ul><li><span>Developing and adopting a thorough, actionable incident response plan</span></li><li><span>Maintaining strong security best practices and supporting incident response measures</span></li><li><span>Post-incident reporting and preparation for future attacks, considering learnings and adaptations to take from incidents</span></li></ul><p><span>TryHackMe Learning Paths - Pre Security, Cyber Defense, Jr Penetration Tester</span></p><h6 id='red-teamer'><span>Red Teamer</span></h6><p><span>Plays the role of an adversary, attacking an organisation and providing feedback from an enemies perspective.</span></p><p><span>Red teamers share similarities to penetration testers, with a more targeted job role. Penetration testers look to uncover many vulnerabilities across systems to keep cyber-defence in good standing, whilst red teamers are enacted to test the company’s detection and response capabilities. This job role requires imitating cyber criminals’ actions, emulating malicious attacks, retaining access, and avoiding detection. Red team assessments can run for up to a month, typically by a team external to the company. They are often best suited to organisations with mature security programs in place.</span></p><p><span> Responsibilities</span></p><ul><li><span>Emulate the role of a threat actor to uncover exploitable vulnerabilities, maintain access and avoid detection</span></li><li><span>Assess organisations’ security controls, threat intelligence, and incident response procedures</span></li><li><span>Evaluate and report on insights, with actionable data for companies to avoid real-world instances</span></li></ul><p><span>TryHackMe Learning Paths - Pre Security, Jr Penetration Tester, Offensive Pentesting</span></p><h6 id='security-engineer'><span>Security Engineer</span></h6><p><span>Design, monitor and maintain security controls, networks, and systems to help prevent cyber attacks</span></p><p><span>Security engineers develop and implement security solutions using threats and vulnerability data - often sourced from members of the security workforce. Security engineers work across circumventing a breadth of attacks, including web application attacks, network threats, and evolving trends and tactics. The ultimate goal is to retain and adopt security measures to mitigate the risk of attack and data loss.</span></p><p><span> Responsibilities</span></p><ul><li><span>Testing and screening security measures across software</span></li><li><span>Monitor networks and reports to update systems and mitigate vulnerabilities</span></li><li><span>Identify and implement systems needed for optimal security</span></li></ul><p><span>TryHackMe Learning Paths - Pre Security, Jr Penetration Tester, Offensive Pentesting</span></p><hr /><p>&nbsp;</p><p>&nbsp;</p><h4 id='day-16'><span>Day 16</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='osint'><span>OSINT</span></h5><p><span>Open Source Intelligence, information that can be obtained from free and public sources. </span></p><p><strong><span>Clearnet</span></strong><span> refers to anything you can publicly access from a traditional web browser</span></p><ul><li><span>Facebook</span></li><li><span>Twitter</span></li><li><span>GitHub</span></li></ul><p><strong><span>Darknet</span></strong><span> accessed using special software, commonly used by privacy-minded people. </span></p><ul><li><span>TOR</span></li><li><span>Freenet</span></li><li><span>I2P</span></li><li><span>IPFS</span></li><li><span>Zeronet</span></li></ul><h5 id='osint-process-cycle'><span>OSINT Process Cycle</span></h5><p><strong><span>RIS OSINT</span></strong></p><p><u><span>Data-information model</span></u></p><p><img src="data-info.png" referrerpolicy="no-referrer"></p><p><u><span>Roller Coaster phases</span></u></p><p><img src="roller-coaster.png" referrerpolicy="no-referrer"></p><figure><table><thead><tr><th><strong><span>RSI Phase</span></strong></th><th><strong><span>Definition</span></strong></th><th><strong><span>Example</span></strong></th></tr></thead><tbody><tr><td><span>Client</span></td><td><span>What is the question/objective?</span></td><td><span>Email</span></td></tr><tr><td><span>Source</span></td><td><span>What is available on the objective?</span></td><td><span>Email servers, etc.</span></td></tr><tr><td><span>Monitoring</span></td><td><span>What is happening with the objective?</span></td><td><span>Email has been inactive</span></td></tr><tr><td><span>Selecting/Finding</span></td><td><span>Where is the objective? How can we find/identify the objective?</span></td><td><span>Clearnet, Gmail, etc.</span></td></tr><tr><td><span>Acquisition</span></td><td><span>How can we get the objective?</span></td><td><span>Leaked database</span></td></tr><tr><td><span>Indexing</span></td><td><span>How is the objective retrievable?</span></td><td><span>Dehashed</span></td></tr><tr><td><span>Syntheses</span></td><td><span>How can we combine this objective with others?</span></td><td><span>Identify information from email</span></td></tr><tr><td><span>Dissemination</span></td><td><span>How can you action/quantify this objective?</span></td><td><span>Report/Plan</span></td></tr></tbody></table></figure><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='account-discovery--analysis'><span>Account Discovery &amp; Analysis</span></h5><figure><table><thead><tr><th><strong><span>Objective</span></strong></th><th><strong><span>Purpose</span></strong></th></tr></thead><tbody><tr><td><span>Identify real or personas</span></td><td><span>A target will often use a persona. Depending on initial information, we are looking for their real name or persona to find other accounts. Our end objective is to identify further information and accounts owned by our target.</span></td></tr><tr><td><span>Identify email</span></td><td><span>This is less common to find openly but can help identify further information of the target and other sources.</span></td></tr><tr><td><span>Locate linked accounts</span></td><td><span>Targets will often link other public accounts leading you to further information or their real name/persona.</span></td></tr><tr><td><span>History</span></td><td><span>The importance of a target&#39;s post history will depend on your objective. This could be crucial to your investigation and lead you to what they&#39;re doing or pivot to another resource.</span></td></tr><tr><td><span>Information from posts</span></td><td><span>Continuing from a target&#39;s post history, you can obtain various information from a target&#39;s posts. This can include location, other accounts, real name, interests, etc.</span></td></tr></tbody></table></figure><p>&nbsp;</p><h5 id='google-dorking'><span>Google Dorking</span></h5><p><span>Cheetsheets </span></p><ul><li><a href='https://www.sans.org/posters/google-hacking-and-defense-cheat-sheet/' target='_blank' class='url'>https://www.sans.org/posters/google-hacking-and-defense-cheat-sheet/</a></li><li><a href='https://gist.github.com/sundowndev/283efaddbcf896ab405488330d1bbc06' target='_blank' class='url'>https://gist.github.com/sundowndev/283efaddbcf896ab405488330d1bbc06</a></li></ul><figure><table><thead><tr><th><strong><span>Term</span></strong></th><th><strong><span>Purpose</span></strong></th><th><strong><span>Example</span></strong></th></tr></thead><tbody><tr><td><span>site</span></td><td><span>Specifically searches that particular site and lists all the results for that site.</span></td><td><span>site:&quot;</span><a href='http://www.google.com/'><span>www.google.com</span></a><span>&quot;</span></td></tr><tr><td><span>filetype</span></td><td><span>Searches for a particular filetype mentioned in the query.</span></td><td><span>filetype:&quot;pdf&quot;</span></td></tr><tr><td><span>link</span></td><td><span>Searches for external links to pages.</span></td><td><span>link:&quot;keyword&quot;</span></td></tr><tr><td><span>inurl</span></td><td><span>Searches for a URL matching one of the keywords.</span></td><td><span>inurl:&quot;keyword&quot;</span></td></tr><tr><td><span>before/after</span></td><td><span>Used to search within a particular date range.</span></td><td><span>(before:2000-01-01 after:2001-01-01)</span></td></tr></tbody></table></figure><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='blockchain--osint'><span>BlockChain &amp; OSINT</span></h5><ul><li><span>Blocktrail</span></li><li><span>Bitcoin Who&#39;s Who</span></li><li><span>Graphsense</span></li><li><span>Block Explorer</span></li></ul><hr /><p>&nbsp;</p><p>&nbsp;</p><h4 id='day-17'><span>Day 17</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='cloud-services-amazon-web-service-aws'><span>Cloud Services (Amazon Web Service (AWS))</span></h5><p><span>AWS is one of the leading public cloud providers and two of its most common services are </span><strong><span>Amazon S3</span></strong><span> (Simple Storage Server) and </span><strong><span>AWS IAM</span></strong><span> (Identify and Access Managment)</span></p><p><span>Major enterprises leverage AWS in some form or another for Computer services, big data or machine learning, Data archives, Video Streaming, IoT, etc..</span></p><p><span>AWS divides its infrastructure into Regions, each region has its availability zones (AZ). This adds redundancy establishing highly resilient architecutes to withstand hardware or facility failures. Specify region with the </span><code>--region</code><span> option in AWS CLI</span></p><p><strong><span>Getting Started with AWS CLI</span></strong></p><p><span>You can access AWS via the AWS Console, AWS CLI, AWS API, or SDKs for programming languages</span></p><h5 id='amazon-s3-simple-storage-service'><span>Amazon S3 (Simple Storage Service)</span></h5><p><span>Publicly hosted object storage service. Objects are stored in Buckets. Key-value stores, with the Object Key being a full pathname for a file and the value being the contents of the file. </span></p><p><span>Can be used for more than public hosting such as data archives, video processing, regulatory record retention, etc.</span></p><p><span>Buckets use a global namespace. meaning names cannot be replicated.</span></p><h6 id='discover-bucket-names'><span>Discover Bucket Names</span></h6><p><span>The links of images, pdf, etc. would look somthing like this</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">http://&lt;bucketname&gt;.s3.amazonaws.com/&lt;filename&gt;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">http://s3.amazonaws.com/&lt;bucketname&gt;/&lt;filename&gt;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><h6 id='listing-the-contents-of-buckets'><span>Listing the Contents of Buckets</span></h6><p><span>Examples</span></p><p><code>curl http://irs-form-990.s3.amazonaws.com/</code></p><p><code>aws s3 ls s3://irs-form-990/ --no-sign-request</code></p><p><span>		</span><code>--no-sign-request</code><span> allows you to request data without being a AWS customer</span></p><h6 id='downloading-objects'><span>Downloading Objects</span></h6><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">#Curl</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">curl http://irs-form-990.s3.amazonaws.com/201101319349101615_public.xml</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">#AWS CLI</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws s3 cp s3://irs-form-990/201101319349101615_public.xml . --no-sign-request</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><h5 id='levels-of-amazon-s3-authentication'><span>Levels of Amazon S3 Authentication</span></h5><p><span>Object permissions are different from Bucket permissions. Objects can be readable while the bucket is not, or vise-versa.</span></p><p><span>Bucket permissions allow you to list the objects in a bucket. The Objects permissions will enable you to download the object.</span></p><figure><table><thead><tr><th><strong><span>ACL Name</span></strong></th><th><strong><span>BUCKET</span></strong></th><th><strong><span>OBJECT</span></strong></th></tr></thead><tbody><tr><td><strong><span>Anyone</span></strong></td><td><span>Anonymously list contents ofthe bucket via curl or with  </span><u><span>aws s3 ls --no-sign-request</span></u></td><td><span>Ability to download via curl or  </span><u><span>aws s3 cp --no-sign-request</span></u></td></tr><tr><td><strong><span>AuthenticatedUsers</span></strong></td><td><span>Can only list the bucket with active AWS keys via  </span><u><span>aws s3 ls</span></u></td><td><span>You can only download the object with active AWS Keys via  </span><u><span>aws s3 cp</span></u></td></tr></tbody></table></figure><h5 id='aws-identify-and-access-management-iam'><span>AWS Identify and Access Management (IAM)</span></h5><p><span>All requests to AWS services must be signed. Usually done behind the scenes by the AWS CLI. The signing process leverages IAM access keys. </span></p><p><span>IAM Access Keys consist</span></p><p><span>	</span><strong><span>Access Key ID</span></strong></p><p><span>	</span><span>Begin with the letters AKIA and are 20 characters long. Act as a username for the AWS API. </span></p><p><span>	</span><span>Short-Term credentials - the Access Key ID begins with ASIA and includes a Session Token</span></p><p><span>	</span><strong><span>Secret Access Key</span></strong></p><p><span>	</span><span>40 characters long.</span></p><p><span>AWS generates both strings, but does not make the Secret Access Key available for download after initial generation</span></p><h6 id='conducting-reconnaissance-with-iam'><span>Conducting Reconnaissance with IAM</span></h6><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><p><span>add found credentials to your AWS profile with the AWS CLI</span></p><p><code>aws configure --profile &lt;profilename&gt;</code></p><p><span>	</span><span>this command adds entries to the .aws/config and .aws/credentials files in the users home directory</span></p><p><span>Once configured you can execute commands using this other set of credentials</span></p><p><span>	</span><code>aws s3 ls --profile &lt;profilename&gt;</code></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">#Finding the Account ID belonging to an access key:</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws sts get-access-key-info --access-key-id AKIAEXAMPLE --profile &lt;profilename&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">#Determining the Username the access key you're using belongs to</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws sts get-caller-identity --profile PROFILENAME</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">#Listing all the EC2 instances running in an account</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws ec2 describe-instances --output text --profile PROFILENAME</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">#Listing all the EC2 instances running in an account in a different region</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aws ec2 describe-instances --output text --region us-east-1 --profile PROFILENAME</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 253px;"></div><div class="CodeMirror-gutters" style="display: none; height: 253px;"></div></div></div></pre><p><strong><span>AWS ARNs</span></strong></p><p><span>A way of generating a unique identifier for all resources in the AWS cloud.</span></p><p><code>arn:aws:&lt;service&gt;:&lt;region&gt;:&lt;account_id&gt;:&lt;resource_type&gt;/&lt;resource_name&gt;</code></p><p><strong><span>Secretsmanager</span></strong></p><p><code>aws secretsmanager -list-secrets --profile &lt;profilename&gt;</code></p><p><code>aws secretsmanager -get-secret-value --secret-id &lt;name&gt; --profile &lt;profilename&gt; --region &lt;specify region&gt;</code></p><hr /><p>&nbsp;</p><p>&nbsp;</p><h4 id='day-18'><span>Day 18</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='containers'><span>Containers</span></h5><p><span>virtualization mechanism similiar to Virtual Machines (VMs), container images are based on the Open Container Initiative Distribution Specification. cloud-native computing environment, first-choice solution for deploying infrastructure.</span></p><h6 id='docker'><span>Docker</span></h6><p><span>Container images are built from a source file known as a &#39;Dockerfile&#39;. Dockerfiles are a list of new-line seperated instructions that instruct the docker daemon how to generate the container image.</span></p><figure><table><thead><tr><th><span>Name</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>Docker API</span></td><td><span>local communication interface on a configured linux machine, wtih standardized commands used to communicate wtih a docker daemon</span></td></tr><tr><td><span>Docker Daemon</span></td><td><span>process that runs on your machine, to interact with container components such as images, data volumes, and other container artifacts</span></td></tr><tr><td><span>Docker Container Image Format</span></td><td><span>a .tar file.  Compliant with the OCI </span><a href='https://github.com/opencontainers/image-spec'><span>Image Specification</span></a></td></tr></tbody></table></figure><h5 id='aws-elastic-container-registry---erc-public-gallery'><span>AWS Elastic Container Registry - ERC Public Gallery</span></h5><p><span>An online registry for public and private container images. </span></p><p><strong><span>Retrieving and inspecting the elements of a container images to identify potential security issues.</span></strong></p><p><code>docker images</code><span>  see container images that are stored</span></p><p><span>	</span><span>Docker containers are stored in repositories, which are a reference to file mappings the Docker Daemon knows how to reach </span><span>	</span><span>which included the .tar files.</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">REPOSITORY &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TAG &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IMAGE ID &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  CREATED &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SIZE</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">remnux/ciphey &nbsp; &nbsp; &nbsp;  latest &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ec11b47184f6 &nbsp; &nbsp; &nbsp;  9 months ago &nbsp; &nbsp; &nbsp;  177MB</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><h6 id='pull-repository-from-aws-erc'><span>Pull Repository from AWS ERC</span></h6><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><p><code>docker pull &lt;repository name&gt;</code></p><h6 id='run-the-container-and-interact'><span>Run the Container and Interact</span></h6><p><code>docker run -it &lt;repository&gt;</code></p><p><span>	</span><span>This will give you an interactive shell on the container. You can then conduct reconnaissance</span></p><p><span>Check environment variables, these may be used to store secret or other sensitive information used to configure the container</span></p><p><span>	</span><code>printenv</code></p><p><span>     Perhaps an api key      api_key=a90eac086fd049ab9a08374f65d1e977</span></p><h6 id='save-downloaded-images-as-a-tar-file'><span>Save Downloaded images as a .tar file</span></h6><p><span>once you save images as a .tar and extract the contents you can see the various image layers. the &#39;manifest.json&#39; represents the layers that compose of the container. Use </span><code>jq</code><span> for a better looking ouput</span></p><p><code>mdkir &lt;directory&gt;</code></p><p><span>	</span><code>docker save -o &lt;name&gt;.tar &lt;repository&gt;</code></p><p><span>	</span><code>tar -xf &lt;name&gt;.tar</code></p><p><span>	</span><code>cat manifest.json | jq</code></p><p><span>	</span><span>find the config .json file and show contents with </span><code>jq</code></p><p><span>		</span><code>cat f886f00520700e2ddd74a14856fcc07a360c819b4cea8cee8be83d4de01e9787.json | jq</code></p><p><span>		</span><span>the file walks through the final image configuration as intented to run on a container host system</span></p><p><span>		</span><span>look through the configuration to see any interesting tools that you can research for vulnerabilities, be sure to look in other </span><span>		</span><span>layer directories for interesting files or .tars. Look in config files for secrets/tokens/sensative information.</span></p><hr /><p>&nbsp;</p><p>&nbsp;</p><h4 id='day-19'><span>Day 19</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='phishing'><span>Phishing</span></h5><p><span>attempt to infiltrate a target organization and gain a foothold by sending electronically delivered messages. A form of social engineering. phishing can also be targeting a specific person, company or industry known as spearphishing.</span></p><p><span>These emails often contain malicious attachments or links, typically executing malicious code on the victims system. </span></p><h5 id='signs-to-look-for'><span>Signs to look for</span></h5><p><span>Do you know the sender ? Does the email address match the sender? Does the reply-to email match the sender ?</span></p><p><span>Does the email body greet you personally or is it very generic. Are there any grammer mistakes?</span></p><p><span>Does the email give you a sense of urgency such as a deadline or prevent your account from being disabled?</span></p><p><span>Does the email contain a link that redirects you to a website, perhaps to reset a password? Does the link match the sender?</span></p><p><span>Is there an attachment to the email ?</span></p><p><strong><span>View/inspect source or View Headers</span></strong></p><p><span>typically in the options, or use Inspector mode </span></p><p><span>Decode base64 </span><code>cat &lt;filname&gt; | base64 -d</code></p><p><span>	</span><span>save it as a pdf by adding </span><code>&gt; file.pdf</code></p><p><span>	</span><span>you can tell by the </span><a href='https://en.wikipedia.org/wiki/List_of_file_signatures'><span>magic header</span></a><span> that the file is PDF based. Also CyberChef can help with identifying file types</span></p><p><span>	</span><code>%PDF-1.6</code></p><hr /><p>&nbsp;</p><p>&nbsp;</p><h4 id='day-20'><span>Day 20</span></h4><p><a href='tryhackme_christmas.html'><span>Top</span></a></p><h5 id='analysis-of-suspicous-files'><span>Analysis of Suspicous Files</span></h5><p><strong><span>Remnux</span></strong><span> A popular Blue/team analysis OS/VM</span></p><h5 id='initial-analysis'><span>Initial Analysis</span></h5><p><code>file &lt;file&gt;</code><span> a linux command that helps determine a given file&#39;s file type. </span></p><p><code>strings &lt;file&gt;</code><span> this command extracts and prints the printable character sequence from a given file. Knowing what strings are present in a file can often provide interesting information about the file (IPs, domain names, URLs, command execution hints, etc.). They also help antivirus software in flagging files.</span></p><h5 id='virustotal'><span>VirusTotal</span></h5><p><span>A website that will can files, URLs, Ip addresses, Domains, or a file hash and displays a summary of the scan results from over 60 different Antivirus software products</span></p><p><span>Various options include tabs: Detection, Details, Relations, Behavior, and Community comments</span></p><p><code>md5sum &lt;file&gt;</code><span> used to ouput the MD5 has of a file, then it can be searched on in VirusTotal</span></p><p>&nbsp;</p></div></div>
</body>
</html>